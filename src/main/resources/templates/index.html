<!DOCTYPE html>
<html lang="zh-cn" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>账本</title>
    <link rel="stylesheet" type="text/css" href="../static/bootstrap/css/bootstrap.css"
          th:href="@{/bootstrap/css/bootstrap.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/bootstrap/css/bootstrap-grid.css"
          th:href="@{/bootstrap/css/bootstrap-grid.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/bootstrap/css/bootstrap-reboot.css"
          th:href="@{/bootstrap/css/bootstrap-reboot.css}"/>
</head>
<body>
<div class="container" id="App">
    <div class="card">
        <div class="card-header">
            <h3 class="text-center">账单管理</h3>
        </div>
        <div class="card-body form-inline mx-5">
            <label for="type">类型</label>
            <select class="form-control mx-auto" name="type" id="type">
                <option v-for="option in options" :key="option.value" :value="option.value"
                        v-text="option.title"></option>
            </select>
            <label for="start">日期：从</label>
            <input class="form-control mx-auto" type="date" name="start" id="start">
            <label for="end">到</label>
            <input class="form-control mx-auto" type="date" name="end" id="end">
            <div class="mx-auto">
                <button class="form-control btn btn-primary" type="button">查账</button>
                <button class="form-control btn btn-secondary" type="button">记账</button>
            </div>
        </div>
    </div>
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>标题</th>
            <th>时间</th>
            <th>类别</th>
            <th>金额</th>
            <th>说明</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="r in rows">
            <td v-clock>{{r.title}}</td>
            <td v-clock>{{r.date | dateFormat}}</td>
            <td v-clock>{{r.type.title}}</td>
            <td v-clock>{{r.price}}</td>
            <td v-clock>{{r.info}}</td>
        </tr>
        </tbody>
    </table>
</div>
</body>
<script src="../static/js/jquery.js" th:src="@{/js/jquery.js}"></script>
<script src="../static/js/vue.js" th:src="@{/js/vue.js}"></script>
<script src="../static/bootstrap/js/bootstrap.js" th:src="@{/bootstrap/js/bootstrap.js}"></script>
<script src="../static/bootstrap/js/bootstrap.bundle.js" th:src="@{/bootstrap/js/bootstrap.bundle.js}"></script>
<script>

    Vue.filter('dateFormat', function (dateStr) {
        var date = new Date(dateStr);
        var yyyy = date.getFullYear();
        var MM = (date.getMonth() + 1).toString().padStart(2,"0");
        var dd = (date.getDate()).toString().padStart(2,"0");
        var hh = date.getHours().toString().padStart(2,"0");
        var mm = date.getMinutes().toString().padStart(2,"0");
        var ss = date.getSeconds().toString().padStart(2,"0");

        return `${yyyy}-${MM}-${dd} ${hh}:${mm}:${ss}`;
    });

    function Type(value, title) {
        this.value = value
        this.title = title
    }

    function Row(title, date = new Date(), type = new Type(-1, '不限'), price = 0, info = '') {
        this.title = title
        this.date = date
        this.type = type
        this.price = price
        this.info = info
    }

    var vm = new Vue({
        el: "#App",
        data: {
            options: [new Type(0, '不限'), new Type(1, '支出'), new Type(2, '收入')],
            rows: [new Row('test'), new Row('test'), new Row('test')]

        },
        methods: {}
    });
</script>
</html>